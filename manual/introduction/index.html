<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Introduction | arara </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
    :root {
        /* Primary theme color */
        --primary-color: #cbe368; /* #FED43F; */
        /* Primary theme text color */
        --primary-text-color: #543631;
        /* Primary theme link color */
        --primary-link-color: #719b25;
        /* Secondary color: the background body color */
        --secondary-color: #fcfaf6;
        --secondary-text-color: #303030;
        /* Highlight text color of table of content */
        --toc-highlight-text-color: #d46e13;
    }
</style>

    <link rel="icon" href="https://islandoftex.gitlab.io/arara/favicon.svg">
    <link rel="stylesheet" href="https://islandoftex.gitlab.io/arara/normalize.css">
    <link rel="stylesheet" href="https://islandoftex.gitlab.io/arara/juice.css">
    <link rel="stylesheet" href="https://islandoftex.gitlab.io/arara/fonts/fonts.css">
    <link rel="stylesheet" href="https://islandoftex.gitlab.io/arara/juicy-arara.css">
    
    <meta name="keywords" content="tex, latex, context, build tool, automation">
    <meta itemprop="name" content="The cool TeX automation tool">
    <meta itemprop="description" content="arara is a TeX automation tool based on directives and rules.">
    
  </head>

  <body>
    
<header class="box-shadow">
    

<a href="https://islandoftex.gitlab.io/arara/">
  <div class="logo">
    <img src="https://islandoftex.gitlab.io/arara/images/arara-text.svg" alt="logo">
  </div>
</a>

<nav>
  
  <a class="nav-item subtitle-text" href="https://islandoftex.gitlab.io/arara/changelog/">Changelog</a>
  
  <a class="nav-item subtitle-text" href="https://islandoftex.gitlab.io/arara/quickstart/">Quickstart</a>
  
  
  
  <a class="nav-item subtitle-text" href="https://islandoftex.gitlab.io/arara/manual">Manual</a>
  
  <a class="nav-item subtitle-text" href="https://islandoftex.gitlab.io/arara/news">News</a>
  
  <a class="nav-item subtitle-text" href="https://gitlab.com/islandoftex/arara">GitLab</a>
  
  
</nav>

</header>


    <main>
      
      
      
      
      
      <div class="toc">
        <div class="toc-sticky">
          
          <div class="toc-item">
            <a class="subtext" href="https://islandoftex.gitlab.io/arara/manual/introduction/#what-is-this-tool">What is this tool?</a>
          </div>
          
          
          <div class="toc-item">
            <a class="subtext" href="https://islandoftex.gitlab.io/arara/manual/introduction/#core-concepts">Core concepts</a>
          </div>
          
          
          <div class="toc-item">
            <a class="subtext" href="https://islandoftex.gitlab.io/arara/manual/introduction/#operating-system-remarks">Operating system remarks</a>
          </div>
          
          
          <div class="toc-item">
            <a class="subtext" href="https://islandoftex.gitlab.io/arara/manual/introduction/#support">Support</a>
          </div>
          
          
        </div>
      </div>
      
      

      <div class="content text">
        
<div class="heading-text">Introduction</div>
<p>Hello there, welcome to arara, the cool TeX automation tool! This chapter is
actually a quick introduction to what you can (and cannot) expect from
arara. For now, concepts will be informally presented and will be detailed later
on, in the next chapters.</p>
<h1 id="what-is-this-tool">What is this tool?</h1>
<p>Good question! arara is a TeX automation tool based on rules and directives. It
is, in some aspects, similar to other well-known tools like <code>latexmk</code> and
<code>rubber</code>. The key difference (and probably the selling point) might be the fact
that arara aims at explicit instructions in the source code (in the form of
comments) in order to determine what to do instead of relying on other
resources, such as log file analysis. It is a different approach for an
automation tool, and we have both advantages and disadvantages of such
design. Let us use the following file <code>hello.tex</code> as an example:</p>
<pre data-lang="tex" style="background-color:#ffffff;color:#010101;" class="language-tex "><code class="language-tex" data-lang="tex"><span style="color:#016692;">\documentclass</span><span>{</span><span style="color:#646409;">article</span><span>}
</span><span>
</span><span style="color:#016692;">\begin</span><span>{</span><span style="color:#696989;">document</span><span>}
</span><span>Hello world!
</span><span style="color:#016692;">\end</span><span>{</span><span style="color:#696989;">document</span><span>}
</span></code></pre>
<p>How would one successfully compile <code>hello.tex</code> with <code>latexmk</code> and <code>rubber</code>, for
instance? It is quite straightforward: it is just a matter of providing the file
to the tool and letting it do the hard work:</p>
<pre data-lang="sh" style="background-color:#ffffff;color:#010101;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#696989;">$</span><span> latexmk</span><span style="color:#696989;"> -pdf</span><span> hello.tex
</span><span style="color:#696989;">$</span><span> rubber</span><span style="color:#696989;"> --pdf</span><span> hello.tex
</span></code></pre>
<p>The mentioned tools perform an analysis on the file and decide what has to be
done. However, if one tries to invoke <code>arara</code> on <code>hello.tex</code>, I am afraid
<em>nothing</em> will be generated; the truth is, arara does not know what to do with
your file, and the tool will even raise an error message complaining about this
issue:</p>
<pre data-lang="sh" style="background-color:#ffffff;color:#010101;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#696989;">$</span><span> arara hello.tex
</span><span>  </span><span style="color:#696989;">__</span><span> _ _ __ __ _ _ __ __ _
</span><span> </span><span style="color:#696989;">/</span><span> _` </span><span style="color:#016692;">| </span><span style="color:#009f78;">&#39;__/ _` | &#39;</span><span style="color:#696989;">__/</span><span> _` </span><span style="color:#016692;">|
</span><span style="color:#016692;">| </span><span>(</span><span style="color:#696989;">_</span><span style="color:#016692;">| | | | </span><span>(</span><span style="color:#696989;">_</span><span style="color:#016692;">| | | | </span><span>(</span><span style="color:#696989;">_</span><span style="color:#016692;">| |
</span><span> </span><span style="color:#333366;">\_</span><span style="color:#696989;">_,_</span><span style="color:#016692;">|</span><span style="color:#696989;">_</span><span style="color:#016692;">|  </span><span style="color:#333366;">\_</span><span style="color:#696989;">_,_</span><span style="color:#016692;">|</span><span style="color:#696989;">_</span><span style="color:#016692;">|  </span><span style="color:#333366;">\_</span><span style="color:#696989;">_,_</span><span style="color:#016692;">|
</span><span>
</span><span style="color:#696989;">Processing </span><span style="color:#009f78;">&quot;hello.tex&quot;</span><span> (size: 70 B, last modified: 12/28/2020
</span><span style="color:#696989;">07:03:16</span><span>), please wait.
</span><span>
</span><span>  </span><span style="color:#696989;">ERROR
</span><span>
</span><span style="color:#696989;">It</span><span> looks like no directives were found in the provided file. Make
</span><span style="color:#696989;">sure</span><span> to include at least one directive and try again.
</span><span>
</span><span style="color:#696989;">Total:</span><span> 0.04 seconds
</span></code></pre>
<p>Quite surprising. However, this behaviour is not wrong at all, it is completely
by design: arara needs to know what you want. And for that purpose, you need to
tell the tool what to do.</p>
<blockquote style="padding: 20px; margin-top: 10px; margin-bottom: 10px;">
  <strong>A very important concept</strong>
  <br/>
  That is the major difference of arara when compared to other tools: <em>it is not
an automatic process and the tool does not employ any guesswork on its own</em>. You
are in control of your documents; arara will not do anything unless you <em>teach
it how to do a task and explicitly tell it to execute the task</em>.
</blockquote>
<p>Now, how does one tell arara to do a task? That is actually the easy part,
provided that you have everything up and running. We accomplish the task by
adding a special comment line, hereafter known as <em>directive</em>, somewhere in our
<code>hello.tex</code> file (preferably in the first lines):</p>
<pre data-lang="tex" style="background-color:#ffffff;color:#010101;" class="language-tex "><code class="language-tex" data-lang="tex"><span style="color:#898989;">% arara: pdflatex
</span><span style="color:#016692;">\documentclass</span><span>{</span><span style="color:#646409;">article</span><span>}
</span><span>
</span><span style="color:#016692;">\begin</span><span>{</span><span style="color:#696989;">document</span><span>}
</span><span>Hello world!
</span><span style="color:#016692;">\end</span><span>{</span><span style="color:#696989;">document</span><span>}
</span></code></pre>
<p>For now, do not worry too much about the terms, we will come back to them later
on, in <a href="https://islandoftex.gitlab.io/arara/manual/concepts/">Important concepts</a>. It suffices to say that arara expects
<em>you</em> to provide a list of tasks, and this is done by inserting special comments
in the source file. Let us see how arara behaves with this updated code:</p>
<pre data-lang="sh" style="background-color:#ffffff;color:#010101;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#696989;">$</span><span> arara hello.tex
</span><span>  </span><span style="color:#696989;">__</span><span> _ _ __ __ _ _ __ __ _
</span><span> </span><span style="color:#696989;">/</span><span> _` </span><span style="color:#016692;">| </span><span style="color:#009f78;">&#39;__/ _` | &#39;</span><span style="color:#696989;">__/</span><span> _` </span><span style="color:#016692;">|
</span><span style="color:#016692;">| </span><span>(</span><span style="color:#696989;">_</span><span style="color:#016692;">| | | | </span><span>(</span><span style="color:#696989;">_</span><span style="color:#016692;">| | | | </span><span>(</span><span style="color:#696989;">_</span><span style="color:#016692;">| |
</span><span> </span><span style="color:#333366;">\_</span><span style="color:#696989;">_,_</span><span style="color:#016692;">|</span><span style="color:#696989;">_</span><span style="color:#016692;">|  </span><span style="color:#333366;">\_</span><span style="color:#696989;">_,_</span><span style="color:#016692;">|</span><span style="color:#696989;">_</span><span style="color:#016692;">|  </span><span style="color:#333366;">\_</span><span style="color:#696989;">_,_</span><span style="color:#016692;">|
</span><span>
</span><span style="color:#696989;">Processing </span><span style="color:#009f78;">&quot;hello.tex&quot;</span><span> (size: 88 B, last modified: 12/28/2020
</span><span style="color:#696989;">07:05:05</span><span>), please wait.
</span><span>
</span><span>(</span><span style="color:#696989;">PDFLaTeX</span><span>) PDFLaTeX engine .............................. SUCCESS
</span><span>
</span><span style="color:#696989;">Total:</span><span> 0.56 seconds
</span></code></pre>
<p>Hurrah, we finally got our document properly compiled with a TeX engine by the
inner workings of our beloved tool, resulting in an expected <code>hello.pdf</code> file
created using the very same system call that typical automation tools like
<code>latexmk</code> and <code>rubber</code> use. Observe that arara works practically on other side
of the spectrum: you need to tell it how and when to do a task.</p>
<h1 id="core-concepts">Core concepts</h1>
<p>When adding a directive in our source code, we are explicitly telling the tool
what we want it to do, but I am afraid that is not sufficient at all. So far,
arara knows <em>what</em> to do, but now it needs to know <em>how</em> the task should be
done. If we want arara to run <code>pdflatex</code> on <code>hello.tex</code>, we need to have
instructions telling our tool how to run that specific application. This
particular sequence of instructions is referred as a <code>rule</code> in our
context.</p>
<blockquote style="padding: 20px; margin-top: 10px; margin-bottom: 10px;">
  <strong>Note on rules</strong>
  <br/>
  Although the core team provides a lot of rules shipped with arara out of the
box, with the possibility of extending the set by adding more rules, some users
might find this decision rather annoying, since other tools have most of their
rules hard-coded, making the automation process even more transparent. However,
since arara does not rely on a specific automation or compilation scheme, it
becomes more extensible. The use of directives in the source code make the
automation steps more fluent, which allows the specification of complex
workflows much easier.
</blockquote>
<p>Despite the inherited verbosity of automation steps not being suitable for small
documents, arara really shines when you have a document which needs full control
of the automation process (for instance, a thesis or a manual). Complex
workflows are easily tackled by our tool.</p>
<p>Rules and directives are the core concepts of arara: the first dictates how a
task is done, and the latter is the proper instance of the associated rule on
the current document, i.e, when and where the commands must be executed.</p>
<blockquote style="padding: 20px; margin-top: 10px; margin-bottom: 10px;">
  <strong>The name</strong>
  <br/>
  <img src="https://islandoftex.gitlab.io/arara/images/manual/arara.png" alt="We love araras!" /></p>
<p><em>Do you like araras? We do, specially our tool which shares the same name of
this colorful bird.</em></p>
<p>The tool name was chosen as an homage to a Brazilian bird of the same name,
which is a macaw. The word <em>arara</em> comes from the Tupian word <em>a'rara</em>, which
means <em>big bird</em> (much to my chagrin, Sesame Street's iconic character Big Bird
is not a macaw; according to some sources, he claims to be a golden
condor). Araras are colorful, noisy, naughty and very funny. Everybody loves
araras. The name seemed catchy for a tool and, in the blink of an eye, arara was
quickly spread to the whole TeX world.
</blockquote>
<p>Now that we informally introduced rules and directives, let us take a look on
how arara actually works given those two elements. The whole idea is pretty
straightforward, and I promise to revisit these concepts later on in this manual
for a comprehensive explanation (more precisely, in <a href="https://islandoftex.gitlab.io/arara/manual/concepts/">Important concepts</a>).</p>
<p>First and foremost, we need to add at least one instruction in the source code
to tell arara what to do. This instruction is named a <em>directive</em> and it will be
parsed during the preparation phase. Observe that arara will tell you if no
directive was found in a file, as seen in our first interaction with the tool.</p>
<p>An arara directive is usually defined in a line of its own, started with a
comment (denoted by a percent sign in TeX and friends), followed by the word
<code>arara:</code> and task name:</p>
<pre data-lang="tex" style="background-color:#ffffff;color:#010101;" class="language-tex "><code class="language-tex" data-lang="tex"><span style="color:#898989;">% arara: pdflatex
</span><span style="color:#016692;">\documentclass</span><span>{</span><span style="color:#646409;">article</span><span>}
</span><span>...
</span></code></pre>
<p>Our example has one directive, referencing <code>pdflatex</code>. It is important to
observe that the <code>pdflatex</code> identifier <em>does not represent the command to be
executed</em>, but <em>the name of the rule associated with that directive</em>.</p>
<p>Once arara finds a directive, it will look for the associated <em>rule</em>. In our
example, it will look for a rule named <code>pdflatex</code> which will evidently run the
<code>pdflatex</code> command line application. Rules are YAML files named according to
their identifiers followed by the <code>yaml</code> extension and follow a strict
structure. This concept is covered in <a href="https://islandoftex.gitlab.io/arara/manual/concepts/">Important concepts</a>.</p>
<p>Now, we have a queue of pairs <em>(directive, rule)</em> to
process. For each pair, arara will map the directive to its corresponding rule,
evaluate it and run the proper command. The execution chain requires that
command <em>i</em> was successfully executed to then proceed to command <em>i + 1</em>, and so
forth. This is also by design: arara will halt the execution if any of the
commands in the queue had raised an error. How does one know if a command was
successfully executed? arara checks the corresponding <em>exit status</em> available
after a command execution. In general, a successful execution yields 0 as its
exit status.</p>
<p>In order to decide whether a command execution is successful, arara relies on
exit status checking. Typically, a command is successful if, and only if, its
resulting exit status is 0 and no other value. However, we can define any value,
or even forget about it and make it always return a valid status regardless of
execution (for instance, in a rule that always is successful — see, for
instance, the <code>clean</code> rule).</p>
<p>That is pretty much how arara works: directives in the source code are mapped to
rules. These pairs are added to a queue. The queue is then executed and the
status is reported. More details about the expansion process are presented in
<a href="https://islandoftex.gitlab.io/arara/manual/concepts/">Important concepts</a>. In short, we teach arara to do a task by
providing a rule, and tell it to execute it through directives in the source
code.</p>
<h1 id="operating-system-remarks">Operating system remarks</h1>
<p>The application is written using the Kotlin language, so arara runs on top of a
Java virtual machine, available on all the major operating systems — in some
cases, you might need to install the proper virtual machine. We tried very hard
to keep both code and libraries compatible with older virtual machines or from
other vendors. Currently, arara is known to run on Java 11 to 24, from any
vendor.</p>
<blockquote style="padding: 20px; margin-top: 10px; margin-bottom: 10px;">
  <strong>Outdated Java virtual machines</strong>
  <br/>
  Dear reader, beware of outdated software, mainly Java virtual machines! Although
arara offers support for older virtual machines, try your best to keep your
software updated as frequently as possible. The legacy support exists only for
historical reasons, and also due to the sheer fact that we know some people that
still runs arara on very old hardware. If you are not in this particular
scenario, get the latest virtual machine.
</blockquote>
<p>In <a href="https://islandoftex.gitlab.io/arara/manual/building/">Building arara</a>, we provide instructions on how to build
arara from sources using Gradle. Even if you use multiple operating systems,
arara should behave the same, including the rules. There are helper functions
available in order to provide support for system-specific rules based on the
underlying operating system.</p>
<h1 id="support">Support</h1>
<p>If you run into any issue with arara, please let us know. We all have very
active profiles in the <a rel="noopener noreferrer" target="_blank" href="https://tex.stackexchange.com/">TeX community at
StackExchange</a>, so just use the <code>arara</code> tag in
your question and we will help you the best we can (also, take a look at their
<a rel="noopener noreferrer" target="_blank" href="https://tex.meta.stackexchange.com/q/1436">starter guide</a>).</p>
<p>We also have a
<a rel="noopener noreferrer" target="_blank" href="https://matrix.to/#/!HfEWIEvFtDplCLSQvz:matrix.org?via=matrix.org">Matrix</a> chat room,
in which we occasionally hang out. Also, if you think the report is worthy of an issue,
open one in our <a rel="noopener noreferrer" target="_blank" href="https://gitlab.com/islandoftex/arara/issues">GitLab repository</a>.</p>
<p>We really hope you like our humble contribution to the TeX community. Let arara
enhance your TeX experience, it will help you when you will need it the
most. Enjoy the manual.</p>


      </div>

    </main>

    
    <footer>
      <small class="subtext">
        arara by the Island of TeX
      </small>
    </footer>
    
  </body>
  <script>
    function highlightNav(heading) {
        let pathname = location.pathname;
        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });
        document.querySelector(".toc a[href$='" + pathname + "#" + heading + "']").classList.add("active");
    }

    let currentHeading = "";
    window.onscroll = function () {
        let h = document.querySelectorAll("h1,h2,h3,h4,h5,h6");
        let elementArr = [];

        h.forEach(item => {
            if (item.id !== "") {
                elementArr[item.id] = item.getBoundingClientRect().top;
            }
        });
        elementArr.sort();
        for (let key in elementArr) {
            if (!elementArr.hasOwnProperty(key)) {
                continue;
            }
            if (elementArr[key] > 0 && elementArr[key] < 300) {
                if (currentHeading !== key) {
                    highlightNav(key);
                    currentHeading = key;
                }
                break;
            }
        }
    }
  </script>
</html>
